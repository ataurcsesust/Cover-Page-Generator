<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIU Cover Page Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #0c4a6e 0%, #1e40af 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .form-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #1e40af;
            font-size: 0.95em;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px;
            border: 2px solid #e0e7ff;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #1e40af;
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .preview-section {
            position: sticky;
            top: 20px;
        }

        #coverPreview {
            background: white;
            border: 3px solid #1e40af;
            border-radius: 10px;
            padding: 50px 40px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            aspect-ratio: 210/297;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .preview-header {
            text-align: center;
            border-bottom: 3px solid #1e40af;
            padding-bottom: 20px;
        }

        .preview-logo {
            width: 140px;
            height: 140px;
            margin: 0 auto 20px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }

        .preview-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .preview-university {
            font-size: 1.6em;
            font-weight: bold;
            color: #0c4a6e;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        .preview-department {
            font-size: 1.1em;
            color: #1e40af;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .preview-content {
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 30px 0;
        }

        .preview-title {
            font-size: 1.6em;
            font-weight: bold;
            color: #0c4a6e;
            margin-bottom: 40px;
            line-height: 1.5;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .preview-info {
            display: flex;
            flex-direction: column;
            gap: 18px;
            text-align: left;
            max-width: 450px;
            margin: 0 auto;
            background: #f8fafc;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e0e7ff;
        }

        .info-row {
            display: grid;
            grid-template-columns: 160px 1fr;
            gap: 15px;
            font-size: 0.95em;
        }

        .info-label {
            font-weight: 700;
            color: #1e40af;
        }

        .info-value {
            color: #334155;
            font-weight: 500;
        }

        .preview-footer {
            text-align: center;
            padding-top: 25px;
            border-top: 3px solid #1e40af;
        }

        .preview-date {
            font-size: 1.05em;
            color: #0c4a6e;
            font-weight: 600;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 16px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.05em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(30, 64, 175, 0.5);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(5, 150, 105, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(5, 150, 105, 0.5);
        }

        .logo-upload {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            border: 2px dashed #1e40af;
            text-align: center;
        }

        .logo-upload input[type="file"] {
            display: none;
        }

        .logo-upload label {
            display: inline-block;
            padding: 12px 24px;
            background: #1e40af;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .logo-upload label:hover {
            background: #1e3a8a;
            transform: translateY(-2px);
        }

        #logoPreview {
            margin-top: 15px;
            max-width: 150px;
            max-height: 150px;
            display: none;
            margin-left: auto;
            margin-right: auto;
        }

        @media (max-width: 968px) {
            .content {
                grid-template-columns: 1fr;
            }

            .preview-section {
                position: static;
            }

            .header h1 {
                font-size: 1.8em;
            }
        }

        @media print {
            body {
                background: white;
            }

            .container {
                box-shadow: none;
            }

            .form-section,
            .button-group,
            .header {
                display: none !important;
            }

            #coverPreview {
                border: none;
                box-shadow: none;
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìÑ DIU Cover Page Generator</h1>
            <p>Daffodil International University - Professional Cover Page Creator</p>
        </div>

        <div class="content">
            <div class="form-section">
                <div class="logo-upload">
                    <h3 style="color: #1e40af; margin-bottom: 10px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ DIU Logo Upload ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                    <label for="logoUpload">üñºÔ∏è Logo Select ‡¶ï‡¶∞‡ßÅ‡¶®</label>
                    <input type="file" id="logoUpload" accept="image/*">
                    <img id="logoPreview" alt="Logo Preview">
                    <p style="margin-top: 10px; font-size: 0.9em; color: #64748b;">‡¶Ö‡¶•‡¶¨‡¶æ default DIU logo use ‡¶π‡¶¨‡ßá</p>
                </div>

                <div class="form-group">
                    <label for="department">üèõÔ∏è Department</label>
                    <input type="text" id="department" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: Computer Science & Engineering" value="Computer Science & Engineering">
                </div>

                <div class="form-group">
                    <label for="courseTitle">üìö Course Title</label>
                    <input type="text" id="courseTitle" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: Data Structures and Algorithms">
                </div>

                <div class="form-group">
                    <label for="courseCode">üî¢ Course Code</label>
                    <input type="text" id="courseCode" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: CSE 201">
                </div>

                <div class="form-group">
                    <label for="assignmentTitle">üìù Assignment/Lab Report Title</label>
                    <textarea id="assignmentTitle" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ assignment ‡¶¨‡¶æ lab report ‡¶è‡¶∞ title ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"></textarea>
                </div>

                <div class="form-group">
                    <label for="studentName">üë§ Student Name</label>
                    <input type="text" id="studentName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                </div>

                <div class="form-group">
                    <label for="studentId">üÜî Student ID</label>
                    <input type="text" id="studentId" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: 201-15-1234">
                </div>

                <div class="form-group">
                    <label for="semester">üìÖ Semester & Section</label>
                    <input type="text" id="semester" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: Fall 2024 - Section A">
                </div>

                <div class="form-group">
                    <label for="teacherName">üë®‚Äçüè´ Teacher's Name</label>
                    <input type="text" id="teacherName" placeholder="Teacher ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
                </div>

                <div class="form-group">
                    <label for="teacherDesignation">üíº Teacher's Designation</label>
                    <input type="text" id="teacherDesignation" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: Professor, Assistant Professor">
                </div>

                <div class="form-group">
                    <label for="submissionDate">üìÜ Date of Submission</label>
                    <input type="date" id="submissionDate">
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="generatePDF()">üì• PDF Download</button>
                    <button class="btn btn-secondary" onclick="printCover()">üñ®Ô∏è Print ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>

            <div class="preview-section">
                <div id="coverPreview">
                    <div class="preview-header">
                        <div class="preview-logo">
                            <img id="displayLogo" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%230c4a6e'/%3E%3Cstop offset='100%25' style='stop-color:%231e40af'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M50 60 L250 60 L270 90 L270 240 L250 270 L50 270 L30 240 L30 90 Z' fill='url(%23g1)'/%3E%3Ccircle cx='150' cy='150' r='60' fill='%2364B5F6'/%3E%3Ctext x='150' y='165' font-family='Arial' font-size='48' font-weight='bold' fill='white' text-anchor='middle'%3EDIU%3C/text%3E%3Ccircle cx='85' cy='260' r='8' fill='%23DC2626'/%3E%3C/svg%3E" alt="DIU Logo">
                        </div>
                        <div class="preview-university">Daffodil International University</div>
                        <div class="preview-department" id="previewDept">Computer Science & Engineering</div>
                    </div>

                    <div class="preview-content">
                        <div class="preview-title" id="previewTitle">Assignment/Lab Report Title</div>
                        
                        <div class="preview-info">
                            <div class="info-row">
                                <span class="info-label">Course Title:</span>
                                <span class="info-value" id="previewCourse">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Course Code:</span>
                                <span class="info-value" id="previewCode">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Submitted By:</span>
                                <span class="info-value" id="previewStudent">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Student ID:</span>
                                <span class="info-value" id="previewId">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Semester:</span>
                                <span class="info-value" id="previewSemester">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Submitted To:</span>
                                <span class="info-value" id="previewTeacher">-</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Designation:</span>
                                <span class="info-value" id="previewDesignation">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="preview-footer">
                        <div class="preview-date" id="previewDate">Date: -</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const inputs = {
            department: document.getElementById('department'),
            courseTitle: document.getElementById('courseTitle'),
            courseCode: document.getElementById('courseCode'),
            assignmentTitle: document.getElementById('assignmentTitle'),
            studentName: document.getElementById('studentName'),
            studentId: document.getElementById('studentId'),
            semester: document.getElementById('semester'),
            teacherName: document.getElementById('teacherName'),
            teacherDesignation: document.getElementById('teacherDesignation'),
            submissionDate: document.getElementById('submissionDate')
        };

        function updatePreview() {
            document.getElementById('previewDept').textContent = inputs.department.value || 'Department';
            document.getElementById('previewTitle').textContent = inputs.assignmentTitle.value || 'Assignment/Lab Report Title';
            document.getElementById('previewCourse').textContent = inputs.courseTitle.value || '-';
            document.getElementById('previewCode').textContent = inputs.courseCode.value || '-';
            document.getElementById('previewStudent').textContent = inputs.studentName.value || '-';
            document.getElementById('previewId').textContent = inputs.studentId.value || '-';
            document.getElementById('previewSemester').textContent = inputs.semester.value || '-';
            document.getElementById('previewTeacher').textContent = inputs.teacherName.value || '-';
            document.getElementById('previewDesignation').textContent = inputs.teacherDesignation.value || '-';
            
            if (inputs.submissionDate.value) {
                const date = new Date(inputs.submissionDate.value);
                document.getElementById('previewDate').textContent = 'Date: ' + date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            } else {
                document.getElementById('previewDate').textContent = 'Date: -';
            }
        }

        Object.values(inputs).forEach(input => {
            input.addEventListener('input', updatePreview);
        });

        const today = new Date().toISOString().split('T')[0];
        inputs.submissionDate.value = today;
        updatePreview();

        document.getElementById('logoUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const logoPreview = document.getElementById('logoPreview');
                    const displayLogo = document.getElementById('displayLogo');
                    logoPreview.src = event.target.result;
                    displayLogo.src = event.target.result;
                    logoPreview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        async function generatePDF() {
            const preview = document.getElementById('coverPreview');
            
            try {
                const canvas = await html2canvas(preview, {
                    scale: 3,
                    backgroundColor: '#ffffff',
                    logging: false
                });

                const imgData = canvas.toDataURL('image/png');
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4'
                });

                const imgWidth = 210;
                const imgHeight = (canvas.height * imgWidth) / canvas.width;

                pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                
                const filename = inputs.studentName.value ? 
                    `${inputs.studentName.value.replace(/\s+/g, '_')}_Cover_Page.pdf` : 
                    'DIU_Cover_Page.pdf';
                    
                pdf.save(filename);
            } catch (error) {
                alert('Error generating PDF. Please try again.');
                console.error(error);
            }
        }

        function printCover() {
            window.print();
        }
    </script>
</body>
</html>
